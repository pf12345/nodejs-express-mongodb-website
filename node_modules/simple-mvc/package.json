{
  "name": "simple-mvc",
  "description": "a simple mvc framework based on express",
  "version": "0.0.11",
  "author": {
    "name": "massimo",
    "email": "yangsibai@gmail.com"
  },
  "main": "lib.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/yangsibai/simple-mvc.git"
  },
  "keywords": [
    "express",
    "framework",
    "mvc",
    "web",
    "rest",
    "restful",
    "router",
    "app",
    "api"
  ],
  "license": "GPL",
  "bugs": {
    "url": "https://github.com/yangsibai/simple-mvc/issues"
  },
  "dependencies": {
    "express": "3.4.7",
    "consolidate": "0.1.0"
  },
  "devDependencies": {
    "jade": "1.3.1"
  },
  "readme": "##simple-mvc\nsimple-mvc is a light mvc framework based on express.\n\n##Install\n`npm install simple-mvc`\n\n##Useage\n\n###config\n1. app=express()\n2. require('simple-mvc')(app)\n3. done!\n\n###project structure\n\n      |-- app.js\n        |-- controllers\n        |   |-- home.js\n        |   |-- user.js\n        |-- views\n        |   |-- home\n        |   |   |-- index.html\n        |   |-- user\n        |   |   |-- index.html\n        |   |   |-- login.html\n        |-- filter.js\n\n###GET\n\n    exports.user_GET=function(req,res){\n        var user={\n            name:\"massimo\",\n            email:\"email\"\n        };\n        res.render(\"user\",{\n            user:user\n        });\n    };\n\n`GET` represent http method is get,this is the default method,you can omit it:\n\n    exports.user=function(req,res){\n        var user={\n            name:\"massimo\",\n            email:\"email\"\n        };\n        res.render(\"user\",{\n            user:user\n        });\n    };\n\n###POST\n\n    exports.new_POST=function(req,res){\n        var name=req.body.name;\n        var password=req.body.password;\n        var userId=1; //insert into db and get user id\n        res.render(\"success\",{\n            userId:userId\n        });\n    };\n\nYou can't omit `POST`.\n\n##Route example\n\n####http://example.com\n\n*/controller/home.js:*\n\n    exports.index=function(req,res){\n        res.render(\"index\",{\n            title:\"welcome\"    \n        });\n    };\n\n####http://example.com/blog\n\n*/controller/blog.js:*\n    \n    exports.index=function(req,res){\n        res.render(\"index\");\n    };\n\n####http://example.com/blog/post?id=15\n\n*/controller/blog.js*\n    \n    exports.post=function(req,res){\n        var blogId=req.query.id;\n        var blog={}; //get blog from database\n        res.render(\"post\",{\n            blog:blog\n        });\n    };\n\n##Filter\n`$` in function represent filter,default filter should place in `appRootDirectory/filter.js`.For example:\n\n*appRootDirectory/filter.js:*\n\n    exports.$auth=(req,res,next){\n        if(req.session && req.session.userId>0){\n            next();\n        }\n        else{\n            res.redirect('/user/login');\n        }\n    };\n\n*appRootDirectory/controller/user.js:*\n\n    exports.account_$auth=(req,res){\n        var userId=req.session.userId;\n        var user={}; //get user info from database\n        res.render(\"account\",{\n            user:user\n        });\n    };\n\n##Advanced\n###Coustom config\n\nBelow is default simple-mvc config,you can custom it easily:\n\n*appRootDirectory/app.js:*\n    \n    var app=express();\n    require(\"simple-mvc\")({\n        controllerPath: \"controllers\",\n        viewPath: \"views\",\n        defaultEngine: \"swig\",\n        defaultViewEngine: \"html\",\n        filter:require(\"filter.js\")\n    },app);\n\n###Custom route\n\nAdd `$mvcConfig` in controller can custom route:\n\n*appRootDirectory/blog.js:*\n\n    exports.$mvcConfig={\n        route:{\n            post:{\n                path:\"/post/:id\"\n            }\n        }\n    }\n    \n    exports.post=(req,res){\n        var postId=req.params.id;\n        var post={}; //get post from db\n        res.render(\"post\",{\n            post:post\n        });\n    };\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/yangsibai/simple-mvc",
  "_id": "simple-mvc@0.0.11",
  "_from": "simple-mvc@~0.0.11"
}
